import{a as L,f as G}from"../chunks/Dxh2w5OC.js";import{a as V,A as oe,h as A,y as B,o as ce,w as de,O as h,au as he,a0 as ge,ae as K,F as $,e as H,C as _e,as as pe,ac as Z,c as F,av as I,b as X,aw as me,s as Ee,ax as be,ay as ke,aq as J,az as Te,aA as we,aB as Ae,$ as P,aC as Ce,r as ne,p as se,aD as W,aE as xe,ap as Se,d as Ie,D as Ne,aF as te,aG as ye,k as fe,Z as ie,aH as De,S as Oe,aI as Q,aJ as Fe,I as j,U as Me,aK as z,V as D,X as O,W as y,aL as Re}from"../chunks/Cp1fPmHG.js";import{d as He,s as ee}from"../chunks/ulPXpbso.js";import{r as ae}from"../chunks/E7O6Q54t.js";function ze(e,t,l){for(var s=[],u=t.length,f,i=t.length,r=0;r<u;r++){let o=t[r];se(o,()=>{if(f){if(f.pending.delete(o),f.done.add(o),f.pending.size===0){var g=e.outrogroups;Y(J(f.done)),g.delete(f),g.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var v=s.length===0&&l!==null;if(v){var n=l,d=n.parentNode;Se(d),d.append(n),e.items.clear()}Y(t,!v)}else f={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(f)}function Y(e,t=!0){for(var l=0;l<e.length;l++)Ie(e[l],t)}var re;function Le(e,t,l,s,u,f=null){var i=e,r=new Map;{var v=e;i=A?B(ce(v)):v.appendChild(V())}A&&de();var n=null,d=be(()=>{var _=l();return ke(_)?_:_==null?[]:J(_)}),o,g=!0;function x(){c.fallback=n,Ve(c,o,i,t,s),n!==null&&(o.length===0?(n.f&I)===0?ne(n):(n.f^=I,R(n,null,i)):se(n,()=>{n=null}))}var a=oe(()=>{o=h(d);var _=o.length;let E=!1;if(A){var p=he(i)===ge;p!==(_===0)&&(i=K(),B(i),$(!1),E=!0)}for(var k=new Set,b=F,T=Ee(),w=0;w<_;w+=1){A&&H.nodeType===_e&&H.data===pe&&(i=H,E=!0,$(!1));var N=o[w],m=s(N,w),C=g?null:r.get(m);C?(C.v&&Z(C.v,N),C.i&&Z(C.i,w),T&&b.unskip_effect(C.e)):(C=Be(r,g?i:re??=V(),N,m,w,u,t,l),g||(C.e.f|=I),r.set(m,C)),k.add(m)}if(_===0&&f&&!n&&(g?n=X(()=>f(i)):(n=X(()=>f(re??=V())),n.f|=I)),_>k.size&&me(),A&&_>0&&B(K()),!g)if(T){for(const[ue,ve]of r)k.has(ue)||b.skip_effect(ve.e);b.oncommit(x),b.ondiscard(()=>{})}else x();E&&$(!0),h(d)}),c={effect:a,items:r,outrogroups:null,fallback:n};g=!1,A&&(i=H)}function M(e){for(;e!==null&&(e.f&xe)===0;)e=e.next;return e}function Ve(e,t,l,s,u){var f=t.length,i=e.items,r=M(e.effect.first),v,n=null,d=[],o=[],g,x,a,c;for(c=0;c<f;c+=1){if(g=t[c],x=u(g,c),a=i.get(x).e,e.outrogroups!==null)for(const m of e.outrogroups)m.pending.delete(a),m.done.delete(a);if((a.f&I)!==0)if(a.f^=I,a===r)R(a,null,l);else{var _=n?n.next:r;a===e.effect.last&&(e.effect.last=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),S(e,n,a),S(e,a,_),R(a,_,l),n=a,d=[],o=[],r=M(n.next);continue}if((a.f&W)!==0&&ne(a),a!==r){if(v!==void 0&&v.has(a)){if(d.length<o.length){var E=o[0],p;n=E.prev;var k=d[0],b=d[d.length-1];for(p=0;p<d.length;p+=1)R(d[p],E,l);for(p=0;p<o.length;p+=1)v.delete(o[p]);S(e,k.prev,b.next),S(e,n,k),S(e,b,E),r=E,n=b,c-=1,d=[],o=[]}else v.delete(a),R(a,r,l),S(e,a.prev,a.next),S(e,a,n===null?e.effect.first:n.next),S(e,n,a),n=a;continue}for(d=[],o=[];r!==null&&r!==a;)(v??=new Set).add(r),o.push(r),r=M(r.next);if(r===null)continue}(a.f&I)===0&&d.push(a),n=a,r=M(a.next)}if(e.outrogroups!==null){for(const m of e.outrogroups)m.pending.size===0&&(Y(J(m.done)),e.outrogroups?.delete(m));e.outrogroups.size===0&&(e.outrogroups=null)}if(r!==null||v!==void 0){var T=[];if(v!==void 0)for(a of v)(a.f&W)===0&&T.push(a);for(;r!==null;)(r.f&W)===0&&r!==e.fallback&&T.push(r),r=M(r.next);var w=T.length;if(w>0){var N=f===0?l:null;ze(e,T,N)}}}function Be(e,t,l,s,u,f,i,r){var v=(i&Te)!==0?(i&we)===0?Ae(l,!1,!1):P(l):null,n=(i&Ce)!==0?P(u):null;return{v,i:n,e:X(()=>(f(t,v??l,n??u,r),()=>{e.delete(s)}))}}function R(e,t,l){if(e.nodes)for(var s=e.nodes.start,u=e.nodes.end,f=t&&(t.f&I)===0?t.nodes.start:l;s!==null;){var i=Ne(s);if(f.before(s),s===u)return;s=i}}function S(e,t,l){t===null?e.effect.first=l:t.next=l,l===null?e.effect.last=t:l.prev=t}const le=[...` 	
\r\f \v\uFEFF`];function $e(e,t,l){var s=""+e;if(l){for(var u in l)if(l[u])s=s?s+" "+u:u;else if(s.length)for(var f=u.length,i=0;(i=s.indexOf(u,i))>=0;){var r=i+f;(i===0||le.includes(s[i-1]))&&(r===s.length||le.includes(s[r]))?s=(i===0?"":s.substring(0,i))+s.substring(r+1):i=r}}return s===""?null:s}function We(e,t,l,s,u,f){var i=e.__className;if(A||i!==l||i===void 0){var r=$e(l,s,f);(!A||r!==e.getAttribute("class"))&&(r==null?e.removeAttribute("class"):e.className=r),e.__className=l}else if(f&&u!==f)for(var v in f){var n=!!f[v];(u==null||n!==!!u[v])&&e.classList.toggle(v,n)}return f}function qe(e,t,l=t){var s=new WeakSet;te(e,"input",async u=>{var f=u?e.defaultValue:e.value;if(f=q(e)?U(f):f,l(f),F!==null&&s.add(F),await ye(),f!==(f=t())){var i=e.selectionStart,r=e.selectionEnd,v=e.value.length;if(e.value=f??"",r!==null){var n=e.value.length;i===r&&r===v&&n>v?(e.selectionStart=n,e.selectionEnd=n):(e.selectionStart=i,e.selectionEnd=Math.min(r,n))}}}),(A&&e.defaultValue!==e.value||fe(t)==null&&e.value)&&(l(q(e)?U(e.value):e.value),F!==null&&s.add(F)),ie(()=>{var u=t();if(e===document.activeElement){var f=De??F;if(s.has(f))return}q(e)&&u===U(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function Ue(e,t,l=t){te(e,"change",s=>{var u=s?e.defaultChecked:e.checked;l(u)}),(A&&e.defaultChecked!==e.checked||fe(t)==null)&&l(e.checked),ie(()=>{var s=t();e.checked=!!s})}function q(e){var t=e.type;return t==="number"||t==="range"}function U(e){return e===""?null:+e}var Xe=G('<li class="svelte-1uha8ag"><div class="task-left svelte-1uha8ag"><input type="checkbox" class="svelte-1uha8ag"/> <span> </span></div> <button class="btn_delete svelte-1uha8ag">✕</button></li>'),Ye=G('<p class="empty-msg svelte-1uha8ag">All done! Time to rest.</p>'),Ge=G(`<main class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">TO-DO LIST</h1> <div class="input-group svelte-1uha8ag"><input type="text" placeholder="What's next, Can?" class="svelte-1uha8ag"/> <button class="add-btn svelte-1uha8ag">Add</button></div> <p class="remaining-text svelte-1uha8ag"> </p> <ul class="svelte-1uha8ag"></ul></main>`);function Qe(e,t){Oe(t,!0);let l=Q(""),s=Q(Fe([{id:1,text:"brush teeth",done:!1},{id:2,text:"go for a walk",done:!1}]));function u(){h(l).trim()&&(z(s,[...h(s),{id:Date.now(),text:h(l),done:!1}],!0),z(l,""))}function f(a){z(s,h(s).filter(c=>c.id!==a),!0)}let i=Re(()=>h(s).filter(a=>!a.done).length);var r=Ge(),v=O(D(r),2),n=D(v);ae(n),n.__keydown=a=>a.key==="Enter"&&u();var d=O(n,2);d.__click=u,y(v);var o=O(v,2),g=D(o);y(o);var x=O(o,2);Le(x,21,()=>h(s),a=>a.id,(a,c,_)=>{var E=Xe(),p=D(E),k=D(p);ae(k);var b=O(k,2);let T;var w=D(b,!0);y(b),y(p);var N=O(p,2);N.__click=()=>f(h(c).id),y(E),j(()=>{T=We(b,1,"svelte-1uha8ag",null,T,{done:h(c).done}),ee(w,h(c).text)}),Ue(k,()=>h(c).done,m=>h(c).done=m),L(a,E)},a=>{var c=Ye();L(a,c)}),y(x),y(r),j(()=>ee(g,`Items remaining: ${h(i)??""}`)),qe(n,()=>h(l),a=>z(l,a)),L(e,r),Me()}He(["keydown","click"]);export{Qe as component};
