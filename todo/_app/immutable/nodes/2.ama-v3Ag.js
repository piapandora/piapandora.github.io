import{a as L,f as Y}from"../chunks/Dxh2w5OC.js";import{o as ve}from"../chunks/TA3QoQmP.js";import{a as V,A as ce,h as S,y as B,o as de,w as he,O as h,au as ge,a0 as _e,ae as K,F as $,e as z,C as pe,as as me,ac as Z,c as F,av as I,b as U,aw as Ee,s as be,ax as ke,ay as Te,aq as G,az as we,aA as Se,aB as Ae,$ as P,aC as Ce,r as ne,p as se,aD as J,aE as xe,ap as Ie,d as Ne,D as ye,aF as te,aG as Oe,k as fe,Z as ie,aH as De,S as Me,aI as Q,aJ as Fe,u as Re,I as j,U as He,aK as O,V as D,X as M,W as y,aL as ze}from"../chunks/Cp1fPmHG.js";import{d as Le,s as ee}from"../chunks/ulPXpbso.js";import{r as ae}from"../chunks/E7O6Q54t.js";function Ve(e,t,n){for(var l=[],u=t.length,f,i=t.length,r=0;r<u;r++){let v=t[r];se(v,()=>{if(f){if(f.pending.delete(v),f.done.add(v),f.pending.size===0){var g=e.outrogroups;X(G(f.done)),g.delete(f),g.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=l.length===0&&n!==null;if(o){var s=n,d=s.parentNode;Ie(d),d.append(s),e.items.clear()}X(t,!o)}else f={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(f)}function X(e,t=!0){for(var n=0;n<e.length;n++)Ne(e[n],t)}var re;function Be(e,t,n,l,u,f=null){var i=e,r=new Map;{var o=e;i=S?B(de(o)):o.appendChild(V())}S&&he();var s=null,d=ke(()=>{var _=n();return Te(_)?_:_==null?[]:G(_)}),v,g=!0;function C(){c.fallback=s,$e(c,v,i,t,l),s!==null&&(v.length===0?(s.f&I)===0?ne(s):(s.f^=I,H(s,null,i)):se(s,()=>{s=null}))}var a=ce(()=>{v=h(d);var _=v.length;let E=!1;if(S){var p=ge(i)===_e;p!==(_===0)&&(i=K(),B(i),$(!1),E=!0)}for(var k=new Set,b=F,T=be(),w=0;w<_;w+=1){S&&z.nodeType===pe&&z.data===me&&(i=z,E=!0,$(!1));var N=v[w],m=l(N,w),A=g?null:r.get(m);A?(A.v&&Z(A.v,N),A.i&&Z(A.i,w),T&&b.unskip_effect(A.e)):(A=Je(r,g?i:re??=V(),N,m,w,u,t,n),g||(A.e.f|=I),r.set(m,A)),k.add(m)}if(_===0&&f&&!s&&(g?s=U(()=>f(i)):(s=U(()=>f(re??=V())),s.f|=I)),_>k.size&&Ee(),S&&_>0&&B(K()),!g)if(T){for(const[ue,oe]of r)k.has(ue)||b.skip_effect(oe.e);b.oncommit(C),b.ondiscard(()=>{})}else C();E&&$(!0),h(d)}),c={effect:a,items:r,outrogroups:null,fallback:s};g=!1,S&&(i=z)}function R(e){for(;e!==null&&(e.f&xe)===0;)e=e.next;return e}function $e(e,t,n,l,u){var f=t.length,i=e.items,r=R(e.effect.first),o,s=null,d=[],v=[],g,C,a,c;for(c=0;c<f;c+=1){if(g=t[c],C=u(g,c),a=i.get(C).e,e.outrogroups!==null)for(const m of e.outrogroups)m.pending.delete(a),m.done.delete(a);if((a.f&I)!==0)if(a.f^=I,a===r)H(a,null,n);else{var _=s?s.next:r;a===e.effect.last&&(e.effect.last=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),x(e,s,a),x(e,a,_),H(a,_,n),s=a,d=[],v=[],r=R(s.next);continue}if((a.f&J)!==0&&ne(a),a!==r){if(o!==void 0&&o.has(a)){if(d.length<v.length){var E=v[0],p;s=E.prev;var k=d[0],b=d[d.length-1];for(p=0;p<d.length;p+=1)H(d[p],E,n);for(p=0;p<v.length;p+=1)o.delete(v[p]);x(e,k.prev,b.next),x(e,s,k),x(e,b,E),r=E,s=b,c-=1,d=[],v=[]}else o.delete(a),H(a,r,n),x(e,a.prev,a.next),x(e,a,s===null?e.effect.first:s.next),x(e,s,a),s=a;continue}for(d=[],v=[];r!==null&&r!==a;)(o??=new Set).add(r),v.push(r),r=R(r.next);if(r===null)continue}(a.f&I)===0&&d.push(a),s=a,r=R(a.next)}if(e.outrogroups!==null){for(const m of e.outrogroups)m.pending.size===0&&(X(G(m.done)),e.outrogroups?.delete(m));e.outrogroups.size===0&&(e.outrogroups=null)}if(r!==null||o!==void 0){var T=[];if(o!==void 0)for(a of o)(a.f&J)===0&&T.push(a);for(;r!==null;)(r.f&J)===0&&r!==e.fallback&&T.push(r),r=R(r.next);var w=T.length;if(w>0){var N=f===0?n:null;Ve(e,T,N)}}}function Je(e,t,n,l,u,f,i,r){var o=(i&we)!==0?(i&Se)===0?Ae(n,!1,!1):P(n):null,s=(i&Ce)!==0?P(u):null;return{v:o,i:s,e:U(()=>(f(t,o??n,s??u,r),()=>{e.delete(l)}))}}function H(e,t,n){if(e.nodes)for(var l=e.nodes.start,u=e.nodes.end,f=t&&(t.f&I)===0?t.nodes.start:n;l!==null;){var i=ye(l);if(f.before(l),l===u)return;l=i}}function x(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}const le=[...` 	
\r\f \v\uFEFF`];function We(e,t,n){var l=""+e;if(n){for(var u in n)if(n[u])l=l?l+" "+u:u;else if(l.length)for(var f=u.length,i=0;(i=l.indexOf(u,i))>=0;){var r=i+f;(i===0||le.includes(l[i-1]))&&(r===l.length||le.includes(l[r]))?l=(i===0?"":l.substring(0,i))+l.substring(r+1):i=r}}return l===""?null:l}function qe(e,t,n,l,u,f){var i=e.__className;if(S||i!==n||i===void 0){var r=We(n,l,f);(!S||r!==e.getAttribute("class"))&&(r==null?e.removeAttribute("class"):e.className=r),e.__className=n}else if(f&&u!==f)for(var o in f){var s=!!f[o];(u==null||s!==!!u[o])&&e.classList.toggle(o,s)}return f}function Ue(e,t,n=t){var l=new WeakSet;te(e,"input",async u=>{var f=u?e.defaultValue:e.value;if(f=W(e)?q(f):f,n(f),F!==null&&l.add(F),await Oe(),f!==(f=t())){var i=e.selectionStart,r=e.selectionEnd,o=e.value.length;if(e.value=f??"",r!==null){var s=e.value.length;i===r&&r===o&&s>o?(e.selectionStart=s,e.selectionEnd=s):(e.selectionStart=i,e.selectionEnd=Math.min(r,s))}}}),(S&&e.defaultValue!==e.value||fe(t)==null&&e.value)&&(n(W(e)?q(e.value):e.value),F!==null&&l.add(F)),ie(()=>{var u=t();if(e===document.activeElement){var f=De??F;if(l.has(f))return}W(e)&&u===q(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function Xe(e,t,n=t){te(e,"change",l=>{var u=l?e.defaultChecked:e.checked;n(u)}),(S&&e.defaultChecked!==e.checked||fe(t)==null)&&n(e.checked),ie(()=>{var l=t();e.checked=!!l})}function W(e){var t=e.type;return t==="number"||t==="range"}function q(e){return e===""?null:+e}var Ye=Y('<li class="svelte-1uha8ag"><div class="task-left svelte-1uha8ag"><input type="checkbox" class="svelte-1uha8ag"/> <span> </span></div> <button class="btn_delete svelte-1uha8ag">✕</button></li>'),Ge=Y('<p class="empty-msg svelte-1uha8ag">All done! Time to rest.</p>'),Ke=Y(`<main class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">TO-DO LIST</h1> <div class="input-group svelte-1uha8ag"><input type="text" placeholder="What's next, Can?" class="svelte-1uha8ag"/> <button class="add-btn svelte-1uha8ag">Add</button></div> <p class="remaining-text svelte-1uha8ag"> </p> <ul class="svelte-1uha8ag"></ul></main>`);function aa(e,t){Me(t,!0);let n=Q(""),l=Q(Fe([]));ve(()=>{const a=localStorage.getItem("todo-app-data");a?O(l,JSON.parse(a),!0):O(l,[{id:1,text:"brush teeth",done:!1},{id:2,text:"go for a walk",done:!1}],!0)}),Re(()=>{localStorage.setItem("todo-app-data",JSON.stringify(h(l)))});function u(){h(n).trim()&&(O(l,[...h(l),{id:Date.now(),text:h(n),done:!1}],!0),O(n,""))}function f(a){O(l,h(l).filter(c=>c.id!==a),!0)}let i=ze(()=>h(l).filter(a=>!a.done).length);var r=Ke(),o=M(D(r),2),s=D(o);ae(s),s.__keydown=a=>a.key==="Enter"&&u();var d=M(s,2);d.__click=u,y(o);var v=M(o,2),g=D(v);y(v);var C=M(v,2);Be(C,21,()=>h(l),a=>a.id,(a,c,_)=>{var E=Ye(),p=D(E),k=D(p);ae(k);var b=M(k,2);let T;var w=D(b,!0);y(b),y(p);var N=M(p,2);N.__click=()=>f(h(c).id),y(E),j(()=>{T=qe(b,1,"svelte-1uha8ag",null,T,{done:h(c).done}),ee(w,h(c).text)}),Xe(k,()=>h(c).done,m=>h(c).done=m),L(a,E)},a=>{var c=Ge();L(a,c)}),y(C),y(r),j(()=>ee(g,`Items remaining: ${h(i)??""}`)),Ue(s,()=>h(n),a=>O(n,a)),L(e,r),He()}Le(["keydown","click"]);export{aa as component};
