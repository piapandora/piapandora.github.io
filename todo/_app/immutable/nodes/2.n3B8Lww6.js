import{a as F,f as B}from"../chunks/DqMrVnz5.js";import{o as de}from"../chunks/BlQSmm9f.js";import{l as W,b as he,h as w,c as Y,z as ge,a as _e,R as g,r as pe,H as me,s as P,d as $,n as L,I as be,at as Ee,ae as Q,i as D,av as N,m as K,aw as ke,t as Te,ax as Ce,ay as we,ar as Z,az as Se,aA as xe,aB as Ae,a2 as j,aC as Ie,j as fe,p as ie,aD as q,aE as Ne,aq as ye,k as Me,J as Oe,aF as ue,aG as Re,x as oe,a0 as ve,aH as De,W as He,aI as ee,aJ as ze,u as Fe,M as ae,X as Le,aK as y,Y as R,_ as M,Z as O,aL as re}from"../chunks/18dys4gx.js";import{d as Be,s as le}from"../chunks/DxFPyFHD.js";import{i as Je}from"../chunks/B3HE_ZuE.js";import{r as ne}from"../chunks/Dp6GH2MQ.js";function Ve(e,s,l){for(var a=[],o=s.length,f,i=s.length,r=0;r<o;r++){let c=s[r];ie(c,()=>{if(f){if(f.pending.delete(c),f.done.add(c),f.pending.size===0){var m=e.outrogroups;U(Z(f.done)),m.delete(f),m.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var v=a.length===0&&l!==null;if(v){var n=l,d=n.parentNode;ye(d),d.append(n),e.items.clear()}U(s,!v)}else f={pending:new Set(s),done:new Set},(e.outrogroups??=new Set).add(f)}function U(e,s=!0){for(var l=0;l<e.length;l++)Me(e[l],s)}var te;function We(e,s,l,a,o,f=null){var i=e,r=new Map;{var v=e;i=w?Y(ge(v)):v.appendChild(W())}w&&_e();var n=null,d=Ce(()=>{var _=l();return we(_)?_:_==null?[]:Z(_)}),c,m=!0;function S(){b.fallback=n,Ye(b,c,i,s,a),n!==null&&(c.length===0?(n.f&N)===0?fe(n):(n.f^=N,z(n,null,i)):ie(n,()=>{n=null}))}var t=he(()=>{c=g(d);var _=c.length;let C=!1;if(w){var u=pe(i)===me;u!==(_===0)&&(i=P(),Y(i),$(!1),C=!0)}for(var h=new Set,x=D,T=Te(),E=0;E<_;E+=1){w&&L.nodeType===be&&L.data===Ee&&(i=L,C=!0,$(!1));var A=c[E],p=a(A,E),k=m?null:r.get(p);k?(k.v&&Q(k.v,A),k.i&&Q(k.i,E),T&&x.unskip_effect(k.e)):(k=$e(r,m?i:te??=W(),A,p,E,o,s,l),m||(k.e.f|=N),r.set(p,k)),h.add(p)}if(_===0&&f&&!n&&(m?n=K(()=>f(i)):(n=K(()=>f(te??=W())),n.f|=N)),_>h.size&&ke(),w&&_>0&&Y(P()),!m)if(T){for(const[J,V]of r)h.has(J)||x.skip_effect(V.e);x.oncommit(S),x.ondiscard(()=>{})}else S();C&&$(!0),g(d)}),b={effect:t,items:r,outrogroups:null,fallback:n};m=!1,w&&(i=L)}function H(e){for(;e!==null&&(e.f&Ne)===0;)e=e.next;return e}function Ye(e,s,l,a,o){var f=s.length,i=e.items,r=H(e.effect.first),v,n=null,d=[],c=[],m,S,t,b;for(b=0;b<f;b+=1){if(m=s[b],S=o(m,b),t=i.get(S).e,e.outrogroups!==null)for(const p of e.outrogroups)p.pending.delete(t),p.done.delete(t);if((t.f&N)!==0)if(t.f^=N,t===r)z(t,null,l);else{var _=n?n.next:r;t===e.effect.last&&(e.effect.last=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),I(e,n,t),I(e,t,_),z(t,_,l),n=t,d=[],c=[],r=H(n.next);continue}if((t.f&q)!==0&&fe(t),t!==r){if(v!==void 0&&v.has(t)){if(d.length<c.length){var C=c[0],u;n=C.prev;var h=d[0],x=d[d.length-1];for(u=0;u<d.length;u+=1)z(d[u],C,l);for(u=0;u<c.length;u+=1)v.delete(c[u]);I(e,h.prev,x.next),I(e,n,h),I(e,x,C),r=C,n=x,b-=1,d=[],c=[]}else v.delete(t),z(t,r,l),I(e,t.prev,t.next),I(e,t,n===null?e.effect.first:n.next),I(e,n,t),n=t;continue}for(d=[],c=[];r!==null&&r!==t;)(v??=new Set).add(r),c.push(r),r=H(r.next);if(r===null)continue}(t.f&N)===0&&d.push(t),n=t,r=H(t.next)}if(e.outrogroups!==null){for(const p of e.outrogroups)p.pending.size===0&&(U(Z(p.done)),e.outrogroups?.delete(p));e.outrogroups.size===0&&(e.outrogroups=null)}if(r!==null||v!==void 0){var T=[];if(v!==void 0)for(t of v)(t.f&q)===0&&T.push(t);for(;r!==null;)(r.f&q)===0&&r!==e.fallback&&T.push(r),r=H(r.next);var E=T.length;if(E>0){var A=f===0?l:null;Ve(e,T,A)}}}function $e(e,s,l,a,o,f,i,r){var v=(i&Se)!==0?(i&xe)===0?Ae(l,!1,!1):j(l):null,n=(i&Ie)!==0?j(o):null;return{v,i:n,e:K(()=>(f(s,v??l,n??o,r),()=>{e.delete(a)}))}}function z(e,s,l){if(e.nodes)for(var a=e.nodes.start,o=e.nodes.end,f=s&&(s.f&N)===0?s.nodes.start:l;a!==null;){var i=Oe(a);if(f.before(a),a===o)return;a=i}}function I(e,s,l){s===null?e.effect.first=l:s.next=l,l===null?e.effect.last=s:l.prev=s}const se=[...` 	
\r\f \v\uFEFF`];function qe(e,s,l){var a=""+e;if(l){for(var o in l)if(l[o])a=a?a+" "+o:o;else if(a.length)for(var f=o.length,i=0;(i=a.indexOf(o,i))>=0;){var r=i+f;(i===0||se.includes(a[i-1]))&&(r===a.length||se.includes(a[r]))?a=(i===0?"":a.substring(0,i))+a.substring(r+1):i=r}}return a===""?null:a}function Xe(e,s,l,a,o,f){var i=e.__className;if(w||i!==l||i===void 0){var r=qe(l,a,f);(!w||r!==e.getAttribute("class"))&&(r==null?e.removeAttribute("class"):e.className=r),e.__className=l}else if(f&&o!==f)for(var v in f){var n=!!f[v];(o==null||n!==!!o[v])&&e.classList.toggle(v,n)}return f}function Ge(e,s,l=s){var a=new WeakSet;ue(e,"input",async o=>{var f=o?e.defaultValue:e.value;if(f=X(e)?G(f):f,l(f),D!==null&&a.add(D),await Re(),f!==(f=s())){var i=e.selectionStart,r=e.selectionEnd,v=e.value.length;if(e.value=f??"",r!==null){var n=e.value.length;i===r&&r===v&&n>v?(e.selectionStart=n,e.selectionEnd=n):(e.selectionStart=i,e.selectionEnd=Math.min(r,n))}}}),(w&&e.defaultValue!==e.value||oe(s)==null&&e.value)&&(l(X(e)?G(e.value):e.value),D!==null&&a.add(D)),ve(()=>{var o=s();if(e===document.activeElement){var f=De??D;if(a.has(f))return}X(e)&&o===G(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Ke(e,s,l=s){ue(e,"change",a=>{var o=a?e.defaultChecked:e.checked;l(o)}),(w&&e.defaultChecked!==e.checked||oe(s)==null)&&l(e.checked),ve(()=>{var a=s();e.checked=!!a})}function X(e){var s=e.type;return s==="number"||s==="range"}function G(e){return e===""?null:+e}var Ue=B('<li class="svelte-1uha8ag"><div class="task-left svelte-1uha8ag"><input type="checkbox" class="svelte-1uha8ag"/> <span> </span></div> <button class="btn_delete svelte-1uha8ag">✕</button></li>'),Ze=B('<p class="empty-msg svelte-1uha8ag">All done! Time to rest.</p>'),Pe=B('<button class="clear-btn svelte-1uha8ag">Clear Completed</button>'),Qe=B(`<main class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">TO-DO LIST</h1> <div class="input-group svelte-1uha8ag"><input type="text" placeholder="What's next, Can?" class="svelte-1uha8ag"/> <button class="add-btn svelte-1uha8ag">Add</button></div> <p class="remaining-text svelte-1uha8ag"> </p> <ul class="svelte-1uha8ag"></ul> <!></main>`);function ta(e,s){He(s,!0);let l=ee(""),a=ee(ze([]));de(()=>{const u=localStorage.getItem("todo-app-data");u?y(a,JSON.parse(u),!0):y(a,[{id:1,text:"brush teeth",done:!1},{id:2,text:"go for a walk",done:!1}],!0)}),Fe(()=>{localStorage.setItem("todo-app-data",JSON.stringify(g(a)))});function o(){g(l).trim()&&(y(a,[...g(a),{id:Date.now(),text:g(l),done:!1}],!0),y(l,""))}function f(u){y(a,g(a).filter(h=>h.id!==u),!0)}function i(){y(a,g(a).filter(u=>!u.done),!0)}let r=re(()=>g(a).filter(u=>!u.done).length),v=re(()=>g(a).some(u=>u.done));var n=Qe(),d=M(R(n),2),c=R(d);ne(c),c.__keydown=u=>u.key==="Enter"&&o();var m=M(c,2);m.__click=o,O(d);var S=M(d,2),t=R(S);O(S);var b=M(S,2);We(b,21,()=>g(a),u=>u.id,(u,h,x)=>{var T=Ue(),E=R(T),A=R(E);ne(A);var p=M(A,2);let k;var J=R(p,!0);O(p),O(E);var V=M(E,2);V.__click=()=>f(g(h).id),O(T),ae(()=>{k=Xe(p,1,"svelte-1uha8ag",null,k,{done:g(h).done}),le(J,g(h).text)}),Ke(A,()=>g(h).done,ce=>g(h).done=ce),F(u,T)},u=>{var h=Ze();F(u,h)}),O(b);var _=M(b,2);{var C=u=>{var h=Pe();h.__click=i,F(u,h)};Je(_,u=>{g(v)&&u(C)})}O(n),ae(()=>le(t,`Items remaining: ${g(r)??""}`)),Ge(c,()=>g(l),u=>y(l,u)),F(e,n),Le()}Be(["keydown","click"]);export{ta as component};
