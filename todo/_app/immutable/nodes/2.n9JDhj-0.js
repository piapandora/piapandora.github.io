import{a as B,f as Y}from"../chunks/DGxE-Gm7.js";import{o as Te}from"../chunks/Bn9kLKwK.js";import{l as U,b as Ce,h as w,c as Z,z as Se,a as xe,R as v,r as Ie,H as we,s as te,d as $,n as J,I as Ne,av as Ae,ae as se,i as z,ax as M,m as ee,ay as De,t as Me,az as ye,aA as Oe,at as re,aB as Re,aC as He,aD as ze,a2 as fe,aE as Fe,j as ge,p as pe,aF as P,aG as Le,as as Be,k as Je,J as Ve,aH as _e,aI as We,x as me,a0 as be,aJ as Ye,W as Xe,aK as V,aL as qe,u as Ge,M as ie,X as Ke,aM as k,Y as H,_ as A,Z as R,aN as ue}from"../chunks/CwBbfrgy.js";import{d as Ue,s as oe,e as W}from"../chunks/CemAPoet.js";import{i as Ze}from"../chunks/BQmXEf00.js";import{r as ve}from"../chunks/DpvYU5Bp.js";function $e(e,i,l){for(var a=[],o=i.length,t,u=i.length,r=0;r<o;r++){let h=i[r];pe(h,()=>{if(t){if(t.pending.delete(h),t.done.add(h),t.pending.size===0){var _=e.outrogroups;ae(re(t.done)),_.delete(t),_.size===0&&(e.outrogroups=null)}}else u-=1},!1)}if(u===0){var c=a.length===0&&l!==null;if(c){var n=l,g=n.parentNode;Be(g),g.append(n),e.items.clear()}ae(i,!c)}else t={pending:new Set(i),done:new Set},(e.outrogroups??=new Set).add(t)}function ae(e,i=!0){for(var l=0;l<e.length;l++)Je(e[l],i)}var de;function Pe(e,i,l,a,o,t=null){var u=e,r=new Map;{var c=e;u=w?Z(Se(c)):c.appendChild(U())}w&&xe();var n=null,g=ye(()=>{var p=l();return Oe(p)?p:p==null?[]:re(p)}),h,_=!0;function y(){m.fallback=n,Qe(m,h,u,i,a),n!==null&&(h.length===0?(n.f&M)===0?ge(n):(n.f^=M,L(n,null,u)):pe(n,()=>{n=null}))}var s=Ce(()=>{h=v(g);var p=h.length;let b=!1;if(w){var E=Ie(u)===we;E!==(p===0)&&(u=te(),Z(u),$(!1),b=!0)}for(var C=new Set,S=z,T=Me(),x=0;x<p;x+=1){w&&J.nodeType===Ne&&J.data===Ae&&(u=J,b=!0,$(!1));var O=h[x],f=a(O,x),d=_?null:r.get(f);d?(d.v&&se(d.v,O),d.i&&se(d.i,x),T&&S.unskip_effect(d.e)):(d=je(r,_?u:de??=U(),O,f,x,o,i,l),_||(d.e.f|=M),r.set(f,d)),C.add(f)}if(p===0&&t&&!n&&(_?n=ee(()=>t(u)):(n=ee(()=>t(de??=U())),n.f|=M)),p>C.size&&De(),w&&p>0&&Z(te()),!_)if(T){for(const[N,I]of r)C.has(N)||S.skip_effect(I.e);S.oncommit(y),S.ondiscard(()=>{})}else y();b&&$(!0),v(g)}),m={effect:s,items:r,outrogroups:null,fallback:n};_=!1,w&&(u=J)}function F(e){for(;e!==null&&(e.f&Le)===0;)e=e.next;return e}function Qe(e,i,l,a,o){var t=i.length,u=e.items,r=F(e.effect.first),c,n=null,g=[],h=[],_,y,s,m;for(m=0;m<t;m+=1){if(_=i[m],y=o(_,m),s=u.get(y).e,e.outrogroups!==null)for(const f of e.outrogroups)f.pending.delete(s),f.done.delete(s);if((s.f&M)!==0)if(s.f^=M,s===r)L(s,null,l);else{var p=n?n.next:r;s===e.effect.last&&(e.effect.last=s.prev),s.prev&&(s.prev.next=s.next),s.next&&(s.next.prev=s.prev),D(e,n,s),D(e,s,p),L(s,p,l),n=s,g=[],h=[],r=F(n.next);continue}if((s.f&P)!==0&&ge(s),s!==r){if(c!==void 0&&c.has(s)){if(g.length<h.length){var b=h[0],E;n=b.prev;var C=g[0],S=g[g.length-1];for(E=0;E<g.length;E+=1)L(g[E],b,l);for(E=0;E<h.length;E+=1)c.delete(h[E]);D(e,C.prev,S.next),D(e,n,C),D(e,S,b),r=b,n=S,m-=1,g=[],h=[]}else c.delete(s),L(s,r,l),D(e,s.prev,s.next),D(e,s,n===null?e.effect.first:n.next),D(e,n,s),n=s;continue}for(g=[],h=[];r!==null&&r!==s;)(c??=new Set).add(r),h.push(r),r=F(r.next);if(r===null)continue}(s.f&M)===0&&g.push(s),n=s,r=F(s.next)}if(e.outrogroups!==null){for(const f of e.outrogroups)f.pending.size===0&&(ae(re(f.done)),e.outrogroups?.delete(f));e.outrogroups.size===0&&(e.outrogroups=null)}if(r!==null||c!==void 0){var T=[];if(c!==void 0)for(s of c)(s.f&P)===0&&T.push(s);for(;r!==null;)(r.f&P)===0&&r!==e.fallback&&T.push(r),r=F(r.next);var x=T.length;if(x>0){var O=t===0?l:null;$e(e,T,O)}}}function je(e,i,l,a,o,t,u,r){var c=(u&Re)!==0?(u&He)===0?ze(l,!1,!1):fe(l):null,n=(u&Fe)!==0?fe(o):null;return{v:c,i:n,e:ee(()=>(t(i,c??l,n??o,r),()=>{e.delete(a)}))}}function L(e,i,l){if(e.nodes)for(var a=e.nodes.start,o=e.nodes.end,t=i&&(i.f&M)===0?i.nodes.start:l;a!==null;){var u=Ve(a);if(t.before(a),a===o)return;a=u}}function D(e,i,l){i===null?e.effect.first=l:i.next=l,l===null?e.effect.last=i:l.prev=i}const ce=[...` 	
\r\f \v\uFEFF`];function ea(e,i,l){var a=""+e;if(l){for(var o in l)if(l[o])a=a?a+" "+o:o;else if(a.length)for(var t=o.length,u=0;(u=a.indexOf(o,u))>=0;){var r=u+t;(u===0||ce.includes(a[u-1]))&&(r===a.length||ce.includes(a[r]))?a=(u===0?"":a.substring(0,u))+a.substring(r+1):u=r}}return a===""?null:a}function he(e,i,l,a,o,t){var u=e.__className;if(w||u!==l||u===void 0){var r=ea(l,a,t);(!w||r!==e.getAttribute("class"))&&(r==null?e.removeAttribute("class"):e.className=r),e.__className=l}else if(t&&o!==t)for(var c in t){var n=!!t[c];(o==null||n!==!!o[c])&&e.classList.toggle(c,n)}return t}function aa(e,i,l=i){var a=new WeakSet;_e(e,"input",async o=>{var t=o?e.defaultValue:e.value;if(t=Q(e)?j(t):t,l(t),z!==null&&a.add(z),await We(),t!==(t=i())){var u=e.selectionStart,r=e.selectionEnd,c=e.value.length;if(e.value=t??"",r!==null){var n=e.value.length;u===r&&r===c&&n>c?(e.selectionStart=n,e.selectionEnd=n):(e.selectionStart=u,e.selectionEnd=Math.min(r,n))}}}),(w&&e.defaultValue!==e.value||me(i)==null&&e.value)&&(l(Q(e)?j(e.value):e.value),z!==null&&a.add(z)),be(()=>{var o=i();if(e===document.activeElement){var t=Ye??z;if(a.has(t))return}Q(e)&&o===j(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function ra(e,i,l=i){_e(e,"change",a=>{var o=a?e.defaultChecked:e.checked;l(o)}),(w&&e.defaultChecked!==e.checked||me(i)==null)&&l(e.checked),be(()=>{var a=i();e.checked=!!a})}function Q(e){var i=e.type;return i==="number"||i==="range"}function j(e){return e===""?null:+e}var la=Y('<li draggable="true"><div class="task-left svelte-1uha8ag"><span class="drag-handle svelte-1uha8ag">⠿</span> <input type="checkbox" class="svelte-1uha8ag"/> <span> </span></div> <button class="btn_delete svelte-1uha8ag">✕</button></li>'),na=Y('<p class="empty-msg svelte-1uha8ag">All done! Time to rest.</p>'),ta=Y('<button class="clear-btn svelte-1uha8ag">Clear Completed</button>'),sa=Y(`<main class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">TO-DO LIST</h1> <div class="input-group svelte-1uha8ag"><input type="text" placeholder="What's next, Can?" class="svelte-1uha8ag"/> <button class="add-btn svelte-1uha8ag">Add</button></div> <p class="remaining-text svelte-1uha8ag"> </p> <ul class="svelte-1uha8ag"></ul> <!></main>`);function ca(e,i){Xe(i,!0);let l=V(""),a=V(qe([])),o=V(null),t=V(null);Te(()=>{const f=localStorage.getItem("todo-app-data");f?k(a,JSON.parse(f),!0):k(a,[{id:1,text:"brush teeth",done:!1},{id:2,text:"go for a walk",done:!1}],!0)}),Ge(()=>{localStorage.setItem("todo-app-data",JSON.stringify(v(a)))});function u(f){k(o,f,!0)}function r(f,d){f.preventDefault(),k(t,d,!0)}function c(f){if(v(o)===null)return;const d=[...v(a)],N=d.splice(v(o),1)[0];d.splice(f,0,N),k(a,d,!0),n()}function n(){k(o,null),k(t,null)}function g(){v(l).trim()&&(k(a,[...v(a),{id:Date.now(),text:v(l),done:!1}],!0),k(l,""))}function h(f){k(a,v(a).filter(d=>d.id!==f),!0)}function _(){k(a,v(a).filter(f=>!f.done),!0)}let y=ue(()=>v(a).filter(f=>!f.done).length),s=ue(()=>v(a).some(f=>f.done));var m=sa(),p=A(H(m),2),b=H(p);ve(b),b.__keydown=f=>f.key==="Enter"&&g();var E=A(b,2);E.__click=g,R(p);var C=A(p,2),S=H(C);R(C);var T=A(C,2);Pe(T,23,()=>v(a),f=>f.id,(f,d,N)=>{var I=la();let le;var X=H(I),q=A(H(X),2);ve(q);var G=A(q,2);let ne;var Ee=H(G,!0);R(G),R(X);var ke=A(X,2);ke.__click=()=>h(v(d).id),R(I),ie(()=>{le=he(I,1,"svelte-1uha8ag",null,le,{"is-hovered":v(t)===v(N),"is-dragging":v(o)===v(N)}),ne=he(G,1,"svelte-1uha8ag",null,ne,{done:v(d).done}),oe(Ee,v(d).text)}),W("dragstart",I,()=>u(v(N))),W("dragover",I,K=>r(K,v(N))),W("drop",I,()=>c(v(N))),W("dragend",I,n),ra(q,()=>v(d).done,K=>v(d).done=K),B(f,I)},f=>{var d=na();B(f,d)}),R(T);var x=A(T,2);{var O=f=>{var d=ta();d.__click=_,B(f,d)};Ze(x,f=>{v(s)&&f(O)})}R(m),ie(()=>oe(S,`Items remaining: ${v(y)??""}`)),aa(b,()=>v(l),f=>k(l,f)),B(e,m),Ke()}Ue(["keydown","click"]);export{ca as component};
